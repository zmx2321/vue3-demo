import{aa as fe,l as le,z as me,m as pe,O as ve,ax as ye,w as x,G as ge,_ as X,d as Y,s as R,g as C,y as he,N as Q,c as F,o as A,b as _,e as V,v as w,a as o,t as Ce,a1 as S,f as j,r as be,k as q,p as ne,h as I,n as we,A as Ee,ah as ke,$ as Te,a2 as Me,a0 as Be,ay as Se,a3 as Ie,a4 as De,au as $e}from"./vue-7d7761e8.js";import{s as W,X as K,u as Z,h as ee,ae as Pe,a as Ae,r as Fe,b as J,j as G,i as Le,a2 as Oe,e as Ne,_ as ae,af as ze,Z as Re,ac as Ye,ag as He,ah as Ve,f as oe,w as We}from"./index-c1326f4a.js";import{t as Xe,P as U,F as _e,E as Ue}from"./focus-trap-e910061c.js";import{a as te,u as se}from"./base-fa16a322.js";let H;const xe=e=>{var s;if(!W)return 0;if(H!==void 0)return H;const t=document.createElement("div");t.className=`${e}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const l=t.offsetWidth;t.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",t.appendChild(n);const c=n.offsetWidth;return(s=t.parentNode)==null||s.removeChild(t),H=l-c,H};function Co(e,s){if(!W)return;if(!s){e.scrollTop=0;return}const t=[];let l=s.offsetParent;for(;l!==null&&e!==l&&e.contains(l);)t.push(l),l=l.offsetParent;const n=s.offsetTop+t.reduce((d,m)=>d+m.offsetTop,0),c=n+s.offsetHeight,r=e.scrollTop,a=r+e.clientHeight;n<r?e.scrollTop=n:c>a&&(e.scrollTop=c-e.clientHeight)}const je=(...e)=>s=>{e.forEach(t=>{fe(t)?t(s):t.value=s})},ie="update:modelValue",bo="change",qe=(e,s,t)=>{let l={offsetX:0,offsetY:0};const n=a=>{const d=a.clientX,m=a.clientY,{offsetX:f,offsetY:v}=l,i=e.value.getBoundingClientRect(),p=i.left,E=i.top,L=i.width,O=i.height,N=document.documentElement.clientWidth,D=document.documentElement.clientHeight,z=-p+f,$=-E+v,k=N-p-L+f,T=D-E-O+v,P=b=>{const u=Math.min(Math.max(f+b.clientX-d,z),k),h=Math.min(Math.max(v+b.clientY-m,$),T);l={offsetX:u,offsetY:h},e.value.style.transform=`translate(${K(u)}, ${K(h)})`},y=()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",y)},c=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",n)},r=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",n)};le(()=>{me(()=>{t.value?c():r()})}),pe(()=>{r()})},Ke=(e,s={})=>{ve(e)||Xe("[useLockscreen]","You need to pass a ref param to this function");const t=s.ns||Z("popup"),l=ye(()=>t.bm("parent","hidden"));if(!W||ee(document.body,l.value))return;let n=0,c=!1,r="0";const a=()=>{setTimeout(()=>{Fe(document?.body,l.value),c&&document&&(document.body.style.width=r)},200)};x(e,d=>{if(!d){a();return}c=!ee(document.body,l.value),c&&(r=document.body.style.width),n=xe(t.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,f=Pe(document.body,"overflowY");n>0&&(m||f==="scroll")&&c&&(document.body.style.width=`calc(100% - ${n}px)`),Ae(document.body,l.value)}),ge(()=>a())},re=e=>{if(!e)return{onClick:X,onMousedown:X,onMouseup:X};let s=!1,t=!1;return{onClick:r=>{s&&t&&e(r),s=t=!1},onMousedown:r=>{s=r.target===r.currentTarget},onMouseup:r=>{t=r.target===r.currentTarget}}},Ge=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:G([String,Array,Object])},zIndex:{type:G([String,Number])}}),Ze={click:e=>e instanceof MouseEvent},Je="overlay";var Qe=Y({name:"ElOverlay",props:Ge,emits:Ze,setup(e,{slots:s,emit:t}){const l=Z(Je),n=d=>{t("click",d)},{onClick:c,onMousedown:r,onMouseup:a}=re(e.customMaskEvent?void 0:n);return()=>e.mask?R("div",{class:[l.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:r,onMouseup:a},[C(s,"default")],U.STYLE|U.CLASS|U.PROPS,["onClick","onMouseup","onMousedown"]):he("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[C(s,"default")])}});const eo=Qe,ue=Symbol("dialogInjectionKey"),ce=J({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:Le},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),oo={close:()=>!0},to=["aria-label"],so=["id"],lo=Y({name:"ElDialogContent"}),no=Y({...lo,props:ce,emits:oo,setup(e){const s=e,{t}=Oe(),{Close:l}=ze,{dialogRef:n,headerRef:c,bodyId:r,ns:a,style:d}=Q(ue),{focusTrapRef:m}=Q(_e),f=je(m,n),v=F(()=>s.draggable);return qe(n,c,v),(i,p)=>(A(),_("div",{ref:o(f),class:w([o(a).b(),o(a).is("fullscreen",i.fullscreen),o(a).is("draggable",o(v)),o(a).is("align-center",i.alignCenter),{[o(a).m("center")]:i.center},i.customClass]),style:ne(o(d)),tabindex:"-1"},[V("header",{ref_key:"headerRef",ref:c,class:w(o(a).e("header"))},[C(i.$slots,"header",{},()=>[V("span",{role:"heading",class:w(o(a).e("title"))},Ce(i.title),3)]),i.showClose?(A(),_("button",{key:0,"aria-label":o(t)("el.dialog.close"),class:w(o(a).e("headerbtn")),type:"button",onClick:p[0]||(p[0]=E=>i.$emit("close"))},[R(o(Ne),{class:w(o(a).e("close"))},{default:S(()=>[(A(),j(be(i.closeIcon||o(l))))]),_:1},8,["class"])],10,to)):q("v-if",!0)],2),V("div",{id:o(r),class:w(o(a).e("body"))},[C(i.$slots,"default")],10,so),i.$slots.footer?(A(),_("footer",{key:0,class:w(o(a).e("footer"))},[C(i.$slots,"footer")],2)):q("v-if",!0)],6))}});var ao=ae(no,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const io=J({...ce,appendToBody:{type:Boolean,default:!1},beforeClose:{type:G(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),ro={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Re(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},uo=(e,s)=>{const l=Ee().emit,{nextZIndex:n}=Ye();let c="";const r=te(),a=te(),d=I(!1),m=I(!1),f=I(!1),v=I(e.zIndex||n());let i,p;const E=He("namespace",Ve),L=F(()=>{const g={},B=`--${E.value}-dialog`;return e.fullscreen||(e.top&&(g[`${B}-margin-top`]=e.top),e.width&&(g[`${B}-width`]=K(e.width))),g}),O=F(()=>e.alignCenter?{display:"flex"}:{});function N(){l("opened")}function D(){l("closed"),l(ie,!1),e.destroyOnClose&&(f.value=!1)}function z(){l("close")}function $(){p?.(),i?.(),e.openDelay&&e.openDelay>0?{stop:i}=oe(()=>y(),e.openDelay):y()}function k(){i?.(),p?.(),e.closeDelay&&e.closeDelay>0?{stop:p}=oe(()=>b(),e.closeDelay):b()}function T(){function g(B){B||(m.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(g):k()}function P(){e.closeOnClickModal&&T()}function y(){W&&(d.value=!0)}function b(){d.value=!1}function u(){l("openAutoFocus")}function h(){l("closeAutoFocus")}function M(g){var B;((B=g.detail)==null?void 0:B.focusReason)==="pointer"&&g.preventDefault()}e.lockScroll&&Ke(d);function de(){e.closeOnPressEscape&&T()}return x(()=>e.modelValue,g=>{g?(m.value=!1,$(),f.value=!0,v.value=e.zIndex?v.value++:n(),we(()=>{l("open"),s.value&&(s.value.scrollTop=0)})):d.value&&k()}),x(()=>e.fullscreen,g=>{s.value&&(g?(c=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=c)}),le(()=>{e.modelValue&&(d.value=!0,f.value=!0,$())}),{afterEnter:N,afterLeave:D,beforeLeave:z,handleClose:T,onModalClick:P,close:k,doClose:b,onOpenAutoFocus:u,onCloseAutoFocus:h,onCloseRequested:de,onFocusoutPrevented:M,titleId:r,bodyId:a,closed:m,style:L,overlayDialogStyle:O,rendered:f,visible:d,zIndex:v}},co=["aria-label","aria-labelledby","aria-describedby"],fo=Y({name:"ElDialog",inheritAttrs:!1}),mo=Y({...fo,props:io,emits:ro,setup(e,{expose:s}){const t=e,l=ke();se({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},F(()=>!!l.title)),se({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},F(()=>!!t.customClass));const n=Z("dialog"),c=I(),r=I(),a=I(),{visible:d,titleId:m,bodyId:f,style:v,overlayDialogStyle:i,rendered:p,zIndex:E,afterEnter:L,afterLeave:O,beforeLeave:N,handleClose:D,onModalClick:z,onOpenAutoFocus:$,onCloseAutoFocus:k,onCloseRequested:T,onFocusoutPrevented:P}=uo(t,c);Te(ue,{dialogRef:c,headerRef:r,bodyId:f,ns:n,rendered:p,style:v});const y=re(z),b=F(()=>t.draggable&&!t.fullscreen);return s({visible:d,dialogContentRef:a}),(u,h)=>(A(),j($e,{to:"body",disabled:!u.appendToBody},[R(De,{name:"dialog-fade",onAfterEnter:o(L),onAfterLeave:o(O),onBeforeLeave:o(N),persisted:""},{default:S(()=>[Me(R(o(eo),{"custom-mask-event":"",mask:u.modal,"overlay-class":u.modalClass,"z-index":o(E)},{default:S(()=>[V("div",{role:"dialog","aria-modal":"true","aria-label":u.title||void 0,"aria-labelledby":u.title?void 0:o(m),"aria-describedby":o(f),class:w(`${o(n).namespace.value}-overlay-dialog`),style:ne(o(i)),onClick:h[0]||(h[0]=(...M)=>o(y).onClick&&o(y).onClick(...M)),onMousedown:h[1]||(h[1]=(...M)=>o(y).onMousedown&&o(y).onMousedown(...M)),onMouseup:h[2]||(h[2]=(...M)=>o(y).onMouseup&&o(y).onMouseup(...M))},[R(o(Ue),{loop:"",trapped:o(d),"focus-start-el":"container",onFocusAfterTrapped:o($),onFocusAfterReleased:o(k),onFocusoutPrevented:o(P),onReleaseRequested:o(T)},{default:S(()=>[o(p)?(A(),j(ao,Be({key:0,ref_key:"dialogContentRef",ref:a},u.$attrs,{"custom-class":u.customClass,center:u.center,"align-center":u.alignCenter,"close-icon":u.closeIcon,draggable:o(b),fullscreen:u.fullscreen,"show-close":u.showClose,title:u.title,onClose:o(D)}),Se({header:S(()=>[u.$slots.title?C(u.$slots,"title",{key:1}):C(u.$slots,"header",{key:0,close:o(D),titleId:o(m),titleClass:o(n).e("title")})]),default:S(()=>[C(u.$slots,"default")]),_:2},[u.$slots.footer?{name:"footer",fn:S(()=>[C(u.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,co)]),_:3},8,["mask","overlay-class","z-index"]),[[Ie,o(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var po=ae(mo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const wo=We(po);export{bo as C,wo as E,ie as U,Co as s};
