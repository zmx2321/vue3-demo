import{T as ze,u as He}from"./base-ba112ab4.js";import{t as Y,E as Te}from"./el-popper-c29b6849.js";import{d as D,o as A,f as he,a1 as k,g as O,a0 as Se,ad as Le,a as We,a4 as we,c as p,N as ne,h as I,i as be,w as ee,$ as ve,l as ge,m as Ee,y as b,U as F,a2 as De,a3 as je,F as Me,A as ye,z as Re,W as Fe,n as Ve,x as qe,H as $e,b as Z,e as oe,v as ae,ac as W,t as Ge,ae as Ue,s as N}from"./vue-7d7761e8.js";import{_ as Ze}from"./plugin-vueexport-helper-c27b6911.js";import{u as w,_ as le,E as S,a as K,r as ce,h as Je,b as _e,c as Ke,d as Qe,e as Pe,i as Q,f as Ce,g as Xe,m as Ye,j as fe,k as et,w as tt,l as xe}from"./index-58521185.js";import{t as se,f as nt,i as ke}from"./focus-trap-fc274de0.js";const ot=D({name:"ElCollapseTransition"}),at=D({...ot,setup(e){const o=w("collapse-transition"),n={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){t.dataset.oldOverflow=t.style.overflow,t.scrollHeight!==0?(t.style.maxHeight=`${t.scrollHeight}px`,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}};return(t,u)=>(A(),he(we,Se({name:We(o).b()},Le(n)),{default:k(()=>[O(t.$slots,"default")]),_:3},16,["name"]))}});var te=le(at,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);te.install=e=>{e.component(te.name,te)};const st=te;let lt=class{constructor(o,n){this.parent=o,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(o){o===this.subMenuItems.length?o=0:o<0&&(o=this.subMenuItems.length-1),this.subMenuItems[o].focus(),this.subIndex=o}addListeners(){const o=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",t=>{let u=!1;switch(t.code){case S.down:{this.gotoSubIndex(this.subIndex+1),u=!0;break}case S.up:{this.gotoSubIndex(this.subIndex-1),u=!0;break}case S.tab:{Y(o,"mouseleave");break}case S.enter:case S.space:{u=!0,t.currentTarget.click();break}}return u&&(t.preventDefault(),t.stopPropagation()),!1})})}},ut=class{constructor(o,n){this.domNode=o,this.submenu=null,this.submenu=null,this.init(n)}init(o){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${o}-menu`);n&&(this.submenu=new lt(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",o=>{let n=!1;switch(o.code){case S.down:{Y(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case S.up:{Y(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case S.tab:{Y(o.currentTarget,"mouseleave");break}case S.enter:case S.space:{n=!0,o.currentTarget.click();break}}n&&o.preventDefault()})}},rt=class{constructor(o,n){this.domNode=o,this.init(n)}init(o){const n=this.domNode.childNodes;Array.from(n).forEach(t=>{t.nodeType===1&&new ut(t,o)})}};const it=D({name:"ElMenuCollapseTransition",setup(){const e=w("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,t){K(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",t()},onAfterEnter(n){ce(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Je(n,e.m("collapse"))?(ce(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),K(n,e.m("collapse"))):(K(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),ce(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){K(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function dt(e,o,n,t,u,_){return A(),he(we,Se({mode:"out-in"},e.listeners),{default:k(()=>[O(e.$slots,"default")]),_:3},16)}var ct=le(it,[["render",dt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function Be(e,o){const n=p(()=>{let u=e.parent;const _=[o.value];for(;u.type.name!=="ElMenu";)u.props.index&&_.unshift(u.props.index),u=u.parent;return _});return{parentMenu:p(()=>{let u=e.parent;for(;u&&!["ElMenu","ElSubMenu"].includes(u.type.name);)u=u.parent;return u}),indexPath:n}}function pt(e){return p(()=>{const n=e.backgroundColor;return n?new ze(n).shade(20).toString():""})}const Ne=(e,o)=>{const n=w("menu");return p(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":pt(e).value||"","active-color":e.activeTextColor||"",level:`${o}`}))},mt=_e({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:Q},expandOpenIcon:{type:Q},collapseCloseIcon:{type:Q},collapseOpenIcon:{type:Q}}),X="ElSubMenu";var Ie=D({name:X,props:mt,setup(e,{slots:o,expose:n}){He({from:"popper-append-to-body",replacement:"teleported",scope:X,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},p(()=>e.popperAppendToBody!==void 0));const t=ye(),{indexPath:u,parentMenu:_}=Be(t,p(()=>e.index)),i=w("menu"),v=w("sub-menu"),l=ne("rootMenu");l||se(X,"can not inject root menu");const m=ne(`subMenu:${_.value.uid}`);m||se(X,"can not inject sub menu");const f=I({}),g=I({});let x;const P=I(!1),ue=I(),J=I(null),z=p(()=>a.value==="horizontal"&&H.value?"bottom-start":"right-start"),j=p(()=>a.value==="horizontal"&&H.value||a.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?T.value?e.expandOpenIcon:e.expandCloseIcon:Ke:e.collapseCloseIcon&&e.collapseOpenIcon?T.value?e.collapseOpenIcon:e.collapseCloseIcon:Qe),H=p(()=>m.level===0),V=p(()=>{var d;const c=(d=e.teleported)!=null?d:e.popperAppendToBody;return c===void 0?H.value:c}),re=p(()=>l.props.collapse?`${i.namespace.value}-zoom-in-left`:`${i.namespace.value}-zoom-in-top`),ie=p(()=>a.value==="horizontal"&&H.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),T=p(()=>l.openedMenus.includes(e.index)),L=p(()=>{let d=!1;return Object.values(f.value).forEach(c=>{c.active&&(d=!0)}),Object.values(g.value).forEach(c=>{c.active&&(d=!0)}),d}),q=p(()=>l.props.backgroundColor||""),G=p(()=>l.props.activeTextColor||""),R=p(()=>l.props.textColor||""),a=p(()=>l.props.mode),s=be({index:e.index,indexPath:u,active:L}),r=Ne(l.props,m.level+1),M=p(()=>a.value!=="horizontal"?{color:R.value}:{borderBottomColor:L.value?l.props.activeTextColor?G.value:"":"transparent",color:L.value?G.value:R.value}),h=()=>{var d,c,y;return(y=(c=(d=J.value)==null?void 0:d.popperRef)==null?void 0:c.popperInstanceRef)==null?void 0:y.destroy()},E=d=>{d||h()},B=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:u.value,active:L.value})},$=(d,c=e.showTimeout)=>{var y;d.type!=="focus"&&(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled||(m.mouseInChild.value=!0,x?.(),{stop:x}=Ce(()=>{l.openMenu(e.index,u.value)},c),V.value&&((y=_.value.vnode.el)==null||y.dispatchEvent(new MouseEvent("mouseenter")))))},C=(d=!1)=>{var c,y;l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||(x?.(),m.mouseInChild.value=!1,{stop:x}=Ce(()=>!P.value&&l.closeMenu(e.index,u.value),e.hideTimeout),V.value&&d&&((c=t.parent)==null?void 0:c.type.name)==="ElSubMenu"&&((y=m.handleMouseleave)==null||y.call(m,!0)))};ee(()=>l.props.collapse,d=>E(!!d));{const d=y=>{g.value[y.index]=y},c=y=>{delete g.value[y.index]};ve(`subMenu:${t.uid}`,{addSubMenu:d,removeSubMenu:c,handleMouseleave:C,mouseInChild:P,level:m.level+1})}return n({opened:T}),ge(()=>{l.addSubMenu(s),m.addSubMenu(s)}),Ee(()=>{m.removeSubMenu(s),l.removeSubMenu(s)}),()=>{var d;const c=[(d=o.title)==null?void 0:d.call(o),b(Pe,{class:v.e("icon-arrow"),style:{transform:T.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>F(j.value)?b(t.appContext.components[j.value]):b(j.value)})],y=l.isMenuPopup?b(Te,{ref:J,visible:T.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:z.value,teleported:V.value,fallbackPlacements:ie.value,transition:re.value,gpuAcceleration:!1},{content:()=>{var U;return b("div",{class:[i.m(a.value),i.m("popup-container"),e.popperClass],onMouseenter:de=>$(de,100),onMouseleave:()=>C(!0),onFocus:de=>$(de,100)},[b("ul",{class:[i.b(),i.m("popup"),i.m(`popup-${z.value}`)],style:r.value},[(U=o.default)==null?void 0:U.call(o)])])},default:()=>b("div",{class:v.e("title"),style:[M.value,{backgroundColor:q.value}],onClick:B},c)}):b(Me,{},[b("div",{class:v.e("title"),style:[M.value,{backgroundColor:q.value}],ref:ue,onClick:B},c),b(st,{},{default:()=>{var U;return De(b("ul",{role:"menu",class:[i.b(),i.m("inline")],style:r.value},[(U=o.default)==null?void 0:U.call(o)]),[[je,T.value]])}})]);return b("li",{class:[v.b(),v.is("active",L.value),v.is("opened",T.value),v.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:T.value,onMouseenter:$,onMouseleave:()=>C(!0),onFocus:$},[y])}}});const vt=_e({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:fe(Array),default:()=>et([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),pe=e=>Array.isArray(e)&&e.every(o=>F(o)),ft={close:(e,o)=>F(e)&&pe(o),open:(e,o)=>F(e)&&pe(o),select:(e,o,n,t)=>F(e)&&pe(o)&&Fe(n)&&(t===void 0||t instanceof Promise)};var ht=D({name:"ElMenu",props:vt,emits:ft,setup(e,{emit:o,slots:n,expose:t}){const u=ye(),_=u.appContext.config.globalProperties.$router,i=I(),v=w("menu"),l=w("sub-menu"),m=I(-1),f=I(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),g=I(e.defaultActive),x=I({}),P=I({}),ue=p(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),J=()=>{const a=g.value&&x.value[g.value];if(!a||e.mode==="horizontal"||e.collapse)return;a.indexPath.forEach(r=>{const M=P.value[r];M&&z(r,M.indexPath)})},z=(a,s)=>{f.value.includes(a)||(e.uniqueOpened&&(f.value=f.value.filter(r=>s.includes(r))),f.value.push(a),o("open",a,s))},j=a=>{const s=f.value.indexOf(a);s!==-1&&f.value.splice(s,1)},H=(a,s)=>{j(a),o("close",a,s)},V=({index:a,indexPath:s})=>{f.value.includes(a)?H(a,s):z(a,s)},re=a=>{(e.mode==="horizontal"||e.collapse)&&(f.value=[]);const{index:s,indexPath:r}=a;if(!(ke(s)||ke(r)))if(e.router&&_){const M=a.route||s,h=_.push(M).then(E=>(E||(g.value=s),E));o("select",s,r,{index:s,indexPath:r,route:M},h)}else g.value=s,o("select",s,r,{index:s,indexPath:r})},ie=a=>{const s=x.value,r=s[a]||g.value&&s[g.value]||s[e.defaultActive];r?g.value=r.index:g.value=a},T=()=>{var a,s;if(!i.value)return-1;const r=Array.from((s=(a=i.value)==null?void 0:a.childNodes)!=null?s:[]).filter(d=>d.nodeName!=="#comment"&&(d.nodeName!=="#text"||d.nodeValue)),M=64,h=Number.parseInt(getComputedStyle(i.value).paddingLeft,10),E=Number.parseInt(getComputedStyle(i.value).paddingRight,10),B=i.value.clientWidth-h-E;let $=0,C=0;return r.forEach((d,c)=>{$+=d.offsetWidth||0,$<=B-M&&(C=c+1)}),C===r.length?-1:C},L=(a,s=33.34)=>{let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{a()},s)}};let q=!0;const G=()=>{const a=()=>{m.value=-1,Ve(()=>{m.value=T()})};q?a():L(a)(),q=!1};ee(()=>e.defaultActive,a=>{x.value[a]||(g.value=""),ie(a)}),ee(()=>e.collapse,a=>{a&&(f.value=[])}),ee(x.value,J);let R;Re(()=>{e.mode==="horizontal"&&e.ellipsis?R=Xe(i,G).stop:R?.()});{const a=h=>{P.value[h.index]=h},s=h=>{delete P.value[h.index]};ve("rootMenu",be({props:e,openedMenus:f,items:x,subMenus:P,activeIndex:g,isMenuPopup:ue,addMenuItem:h=>{x.value[h.index]=h},removeMenuItem:h=>{delete x.value[h.index]},addSubMenu:a,removeSubMenu:s,openMenu:z,closeMenu:H,handleMenuItemClick:re,handleSubMenuClick:V})),ve(`subMenu:${u.uid}`,{addSubMenu:a,removeSubMenu:s,mouseInChild:I(!1),level:0})}return ge(()=>{e.mode==="horizontal"&&new rt(u.vnode.el,v.namespace.value)}),t({open:s=>{const{indexPath:r}=P.value[s];r.forEach(M=>z(M,r))},close:j,handleResize:G}),()=>{var a,s;let r=(s=(a=n.default)==null?void 0:a.call(n))!=null?s:[];const M=[];if(e.mode==="horizontal"&&i.value){const B=nt(r),$=m.value===-1?B:B.slice(0,m.value),C=m.value===-1?[]:B.slice(m.value);C?.length&&e.ellipsis&&(r=$,M.push(b(Ie,{index:"sub-menu-more",class:l.e("hide-arrow")},{title:()=>b(Pe,{class:l.e("icon-more")},{default:()=>b(Ye)}),default:()=>C})))}const h=Ne(e,0),E=b("ul",{key:String(e.collapse),role:"menubar",ref:i,style:h.value,class:{[v.b()]:!0,[v.m(e.mode)]:!0,[v.m("collapse")]:e.collapse}},[...r,...M]);return e.collapseTransition&&e.mode==="vertical"?b(ct,()=>E):E}}});const bt=_e({index:{type:fe([String,null]),default:null},route:{type:fe([String,Object])},disabled:Boolean}),gt={click:e=>F(e.index)&&Array.isArray(e.indexPath)},me="ElMenuItem",Mt=D({name:me,components:{ElTooltip:Te},props:bt,emits:gt,setup(e,{emit:o}){const n=ye(),t=ne("rootMenu"),u=w("menu"),_=w("menu-item");t||se(me,"can not inject root menu");const{parentMenu:i,indexPath:v}=Be(n,qe(e,"index")),l=ne(`subMenu:${i.value.uid}`);l||se(me,"can not inject sub menu");const m=p(()=>e.index===t.activeIndex),f=be({index:e.index,indexPath:v,active:m}),g=()=>{e.disabled||(t.handleMenuItemClick({index:e.index,indexPath:v.value,route:e.route}),o("click",f))};return ge(()=>{l.addSubMenu(f),t.addMenuItem(f)}),Ee(()=>{l.removeSubMenu(f),t.removeMenuItem(f)}),{parentMenu:i,rootMenu:t,active:m,nsMenu:u,nsMenuItem:_,handleClick:g}}});function yt(e,o,n,t,u,_){const i=$e("el-tooltip");return A(),Z("li",{class:ae([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:o[0]||(o[0]=(...v)=>e.handleClick&&e.handleClick(...v))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(A(),he(i,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:k(()=>[O(e.$slots,"title")]),default:k(()=>[oe("div",{class:ae(e.nsMenu.be("tooltip","trigger"))},[O(e.$slots,"default")],2)]),_:3},8,["effect"])):(A(),Z(Me,{key:1},[O(e.$slots,"default"),O(e.$slots,"title")],64))],2)}var Oe=le(Mt,[["render",yt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const _t={title:String},xt="ElMenuItemGroup",It=D({name:xt,props:_t,setup(){return{ns:w("menu-item-group")}}});function Ct(e,o,n,t,u,_){return A(),Z("li",{class:ae(e.ns.b())},[oe("div",{class:ae(e.ns.e("title"))},[e.$slots.title?O(e.$slots,"title",{key:1}):(A(),Z(Me,{key:0},[W(Ge(e.title),1)],64))],2),oe("ul",null,[O(e.$slots,"default")])],2)}var Ae=le(It,[["render",Ct],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const kt=tt(ht,{MenuItem:Oe,MenuItemGroup:Ae,SubMenu:Ie}),Tt=xe(Oe);xe(Ae);xe(Ie);const St={class:"demo_wrap"},wt={class:"demo_main"},Et={__name:"index",props:{},setup(e){const o=Ue(),n=I("5"),t=u=>{switch(u){case"0":o.push("/demo/screen");break;case"1":o.push("/demo/demo1");break;case"2":o.push("/demo/demo2");break;case"3":o.push("/demo/demo3");break;case"4":o.push("/demo/demo4");break;case"5":o.push("/demo/demo5");break}};return(u,_)=>{const i=Tt,v=kt,l=$e("router-view");return A(),Z("section",St,[N(v,{"default-active":n.value,class:"el-menu-demo",mode:"horizontal",onSelect:t},{default:k(()=>[N(i,{index:"0"},{default:k(()=>[W("大屏自适应")]),_:1}),N(i,{index:"1"},{default:k(()=>[W("图表demo")]),_:1}),N(i,{index:"2"},{default:k(()=>[W("地图demo")]),_:1}),N(i,{index:"3"},{default:k(()=>[W("demo3")]),_:1}),N(i,{index:"4"},{default:k(()=>[W("openlayer")]),_:1}),N(i,{index:"5"},{default:k(()=>[W("demo5")]),_:1})]),_:1},8,["default-active"]),oe("div",wt,[N(l)])])}}},Wt=Ze(Et,[["__scopeId","data-v-427fd966"]]);export{Wt as default};
